<!DOCTYPE html>

<html lang="ch">
<head>
    <script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script>
    <link rel="stylesheet" href="loading-bar.css">
    <link rel="stylesheet" type="text/css" href="CSS_home.css">
    <meta charset="UTF-8">
    <title>主页</title>
</head>
<body>

    <!--加载界面-->
    <div class="loading">
        <button class="entry">进入！</button>
    </div>

    <header>
        <a href="#" class="logo">anrola</a>
        <div class="righSide">
            <div class="btns sound">
                <ion-icon name="volume-mute-outline"></ion-icon>
                <ion-icon name="volume-high-outline"></ion-icon>
            </div>
            <div class="btns dayNight">
                <ion-icon name="moon-outline"></ion-icon>
                <ion-icon name="sunny-outline"></ion-icon>
            </div>
            <div class="btns menuToggle">
                <ion-icon name="menu-outline"></ion-icon>
                <ion-icon name="close-outline"></ion-icon>
            </div>
        </div>
    </header>
    <section class="main">
        <!--<iframe class="video" src="//player.bilibili.com/player.html?isOutside=true&aid=615917420&bvid=BV1Qh4y1j7fN&cid=1197176590&p=1&autoplay=0&muted=true"  border="0" border="no"></iframe>
        -->
        <video src="src/video.mp4" loop></video>
        <img src="src/mask.png" class="mask">
        <h2>ANROLA</h2>
    </section>

    <!-- 菜单栏 -->
    <ul class="navigation">
        <li><a href="#">Home</a></li>
        <li><a href="#">123</a></li>
        <li><a href="#">456</a></li>
        <li><a href="#">789</a></li>
    </ul>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        let sound = document.querySelector('.sound')
        let dayNight = document.querySelector('.dayNight')
        let menuToggle = document.querySelector('.menuToggle')
        let body = document.querySelector('body')
        let navigation = document.querySelector('.navigation')
        let entry = document.querySelector('.entry')
        let loading = document.querySelector('.loading')
        const vdo = document.querySelector('video')

        function soundToggle(){
            const ACTX = new AudioContext();
            if (ACTX.state == "running"&&vdo.muted) {
                vdo.play()
                vdo.muted = false;
            }else{
                vdo.play()
                vdo.muted = true;
            }
        }
        sound.onclick = function (){
            sound.classList.toggle('active')
            soundToggle();
        }

        dayNight.onclick = function (){
            body.classList.toggle('dark')
            dayNight.classList.toggle('active')
        }

        menuToggle.onclick = function (){
            menuToggle.classList.toggle('active')
            navigation.classList.toggle('active')
        }

        entry.onclick = function () {
            loading.classList.add("done")
            vdo.muted = false
            vdo.play()
        }
    </script>
</body>
<script>
    window.onload = function (){
            entry.classList.add('visible')
    }
</script>
</html>
